<app-navigation-toolbar></app-navigation-toolbar>

<div class="container">
  <!--  <div [hidden]="formSubmitted">-->
  <br>
  <h1>Create new user</h1><br>
  <form [formGroup]="userForm">
    <div class="form-group">
      <label for="firstName"> First Name</label>
      <input
        required
        formControlName="firstName"
        id="firstName"
        type="text"
        class="form-control">

      <div
        class="alert alert-danger"
        *ngIf="userForm.controls.firstName.touched && !userForm.controls.firstName.valid">
        <div *ngIf="userForm.controls.firstName.errors.required">
          First Name is required
        </div>
      </div>
    </div>

    <!---------------  First Name---------------------->
    <div class="form-group">
      <label for="lastName"> Last Name</label>
      <input
        required
        formControlName="lastName"
        id="lastName"
        type="text"
        class="form-control">

      <div
        class="alert alert-danger"
        *ngIf="userForm.controls.lastName.touched && !userForm.controls.lastName.valid">
        <div *ngIf="userForm.controls.lastName.errors.required">
          Last Name is required
        </div>
      </div>
    </div>

    <!---------------  Last Name---------------------->
    <div class="form-group">

      <label for="mobileNumber"> Mobile Number</label>

      <div class="flex">
        <p-dropdown [options]="phonePrefix" formControlName="prefix"></p-dropdown>
        <br>

        <div class="columnSeparator" style="width: 100%">
          <input
            required
            formControlName="mobileNumber"
            id="mobileNumber"
            type="text"
            class="form-control"
            pattern="^\d{9}$">
        </div>
      </div>
      <div
        class="alert alert-danger"
        *ngIf="userForm.controls.mobileNumber.touched && !userForm.controls.mobileNumber.valid">
        <div *ngIf="userForm.controls.mobileNumber.errors.required">
          Mobile Number is required
        </div>
        <div *ngIf="userForm.controls.mobileNumber.errors.pattern">
          Format not supported: only add the remaining 9 digits
        </div>
      </div>
    </div>

    <!---------------  Mobile Number---------------------->
    <div class="form-group">
      <label for="mail"> Mail Address</label>
      <input
        required
        pattern="^[a-zA-Z0-9_!#$%&'*+/=?`{|}~^.-]+@msg.group"
        formControlName="mail"
        id="mail"
        type="text"
        class="form-control"
      >

      <div class="alert alert-danger" *ngIf="userForm.controls.mail.touched && !userForm.controls.mail.valid">
        <div *ngIf="userForm.controls.mail.errors.required">
          Mail Address is required
        </div>
        <div *ngIf="userForm.controls.mail.errors.pattern">
          The Mail Address does not math the required pattern : [mail]@msg.group
        </div>
      </div>
    </div>

    <!---------------  Mail ---------------------->
    <div class="form-group">
      <label for="password"> Password</label>
      <input required formControlName="password" id="password" type="text" class="form-control">

      <div class="alert alert-danger"
        *ngIf="userForm.controls.password.touched && !userForm.controls.password.valid">
        <div *ngIf="userForm.controls.password.errors.required">
          Password is required
        </div>
      </div>
    </div>

    <!---------------  Password---------------------->
    <div class="form-group">
      <label> Roles</label> <br>

      <div class="form-check form-check-inline" *ngFor="let role of rolesOptions"
           pTooltip="{{mapRoles.get(role)}}" tooltipPosition="bottom">
        <label class="form-check-label">
          <input class="form-check-input"
                 type="checkbox"
                 [value]="role"
                 (change)="onCheckChange($event)">
          {{role}}
        </label>
      </div>
    </div>

    <!---------------  Roles---------------------->
    <div class="submitButton">
      <button class="btn btn-primary" (click)="saveUser()">Submit</button>
    </div>

  </form>
</div>
